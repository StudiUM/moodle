{"version":3,"sources":["../src/embedpage.js"],"names":["define","Embedpage","window","location","parent","url","href","indexOf","replace"],"mappings":"AAuBAA,OAAM,yBAAC,CAAC,QAAD,CAAD,CAAa,UAAW,CAM1B,GAAIC,CAAAA,CAAS,CAAG,UAAW,CAEvB,GAAKC,MAAM,CAACC,QAAP,GAAoBD,MAAM,CAACE,MAAP,CAAcD,QAAvC,CAAkD,CAC9C,GAAIE,CAAAA,CAAG,CAAGH,MAAM,CAACC,QAAP,CAAgBG,IAA1B,CAEA,GAA4B,CAAC,CAA1B,CAAAD,CAAG,CAACE,OAAJ,CAAY,SAAZ,CAAH,CAAgC,CAE5BF,CAAG,CAAGA,CAAG,CAACG,OAAJ,CAAY,SAAZ,CAAuB,SAAvB,CACT,CAHD,IAGO,IAAuB,CAAC,CAApB,CAAAH,CAAG,CAACE,OAAJ,CAAY,GAAZ,CAAJ,CAA0B,CAE7BF,CAAG,CAAGA,CAAG,CAACG,OAAJ,CAAY,GAAZ,CAAiB,WAAjB,CACT,CAHM,IAGA,IAAsB,CAAC,CAApB,CAAAH,CAAG,CAACE,OAAJ,CAAY,GAAZ,CAAH,CAA0B,CAE7BF,CAAG,CAAGA,CAAG,CAACG,OAAJ,CAAY,GAAZ,CAAiB,WAAjB,CACT,CAHM,IAGA,CAEHH,CAAG,CAAGA,CAAG,EAAI,UAChB,CAEDH,MAAM,CAACC,QAAP,CAAgBG,IAAhB,CAAuBD,CAC1B,CACJ,CArBD,CAuBA,MAAO,CACH,KAAQ,eAAW,CACf,MAAO,IAAIJ,CAAAA,CACd,CAHE,CAMV,CAnCK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Manage displaying embed page.\n *\n * @package    theme_boostudem\n * @copyright  2019 Université de Montréal\n * @author     Issam Taboubi <issam.taboubi@umontreal.ca>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function() {\n\n    /**\n     * Constructor for embed page.\n     *\n     */\n    var Embedpage = function() {\n        // This template should be used when the page has to be embedded in an iframe. If it is not the case, unembed the page.\n        if ( window.location === window.parent.location ) {\n            var url = window.location.href;\n\n            if(url.indexOf('embed=1') > -1) {\n                // There is already an embed=1, change it to embed=0.\n                url = url.replace('embed=1', 'embed=0');\n            } else if (url.indexOf('?') > -1){\n                // There are other parameters, so add it before any other parameter.\n                url = url.replace('?', '?embed=0&');\n            } else if(url.indexOf('#') > -1) {\n                // No parameter : add param before anchor and keep anchor.\n                url = url.replace('#', '?embed=0#');\n            } else {\n                // No parameter, no anchor : add at the end of the URL.\n                url = url += '?embed=0';\n            }\n\n            window.location.href = url;\n        }\n    };\n\n    return {\n        'init': function() {\n            return new Embedpage();\n        }\n    };\n\n});\n"],"file":"embedpage.min.js"}